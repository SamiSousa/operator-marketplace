{{- if ( has "descheduler" .Values.operators ) }}
{{ $root := . }}
{{ $operator := "descheduler" }}
data:
  customResourceDefinitions: |-
{{- range $path, $bytes := .Files.Glob (printf "%s%s" $operator "/**.crd.yaml") }}
  {{- range $index, $line  := $root.Files.Lines $path }}
    {{- if eq $index 0 }}
{{- $line | printf "%s%s" "- " | nindent 4 }}
    {{- else }}
{{- $line | nindent 6 }}
    {{- end }}
  {{- end }}
{{- end }}
  clusterServiceVersions: |-
{{- range $path, $bytes := .Files.Glob (printf "%s%s" $operator "/**.clusterserviceversion.yaml") }}
  {{- range $index, $line  := $root.Files.Lines $path }}
    {{- if eq $index 0 }}
{{- $line | printf "%s%s" "- " | nindent 4 }}
    {{- else }}
{{- $line | nindent 6 }}
    {{- end }}
  {{- end }}
{{- end }}
  packages: |-
{{- range $path, $bytes := .Files.Glob (printf "%s%s" $operator "/**.package.yaml") }}
  {{- range $index, $line  := $root.Files.Lines $path }}
    {{- if eq $index 0 }}
{{- $line | printf "%s%s" "- " | nindent 4 }}
    {{- else }}
{{- $line | nindent 6 }}
    {{- end }}
  {{- end }}
{{- end }}
{{ end }}
